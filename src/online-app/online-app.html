<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="../../bower_components/app-route/app-location.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">


<dom-module id="online-app">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
      <iron-ajax auto
          url="http://localhost:8080/histoires"
          debounce-duration="300"
          handle-as="json"
          last-response="{{ajaxResponse}}"></iron-ajax>
         
      <!-- Some component from Polymer which make the front navigation !-->
      <app-location route = "{{route}}" use-hash-as-path></app-location>
      <app-route route="{{route}}" pattern = "/:page" data = "{{data}}"></app-route>
     <iron-pages selected = "[[route.path]]" attr-for-select="name" fallback-selection="fallback">
      
      
         <div name="Test">
             <template is="dom-repeat" items="{{ajaxResponse}}">
                <p>[[item.type]]</p>
             </template>
         </div>
          
         
      </iron-pages>
  </template>

  <script>
    /**
     * @customElement
     * @polymer
     */
    class OnlineApp extends Polymer.Element {
      static get is() { return 'online-app'; }
    }
    window.customElements.define(OnlineApp.is, OnlineApp);
  </script>
    
    
</dom-module>
